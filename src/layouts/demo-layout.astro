---
import DemoWidget from "@components/demo-widget"
import DefaultLayout from "./default-layout.astro"
import DateTag from "../components/date-tag.astro"
import { Icon } from "astro-icon/components"
import type { PostType } from "@types"

interface Props {
  title: string
  date: Date
  slug: string
  type: PostType
}

const { slug, title, date, type } = Astro.props
---

<DefaultLayout {title}>
  <a
    href={type === "demo" ? "/demos" : "/posts"}
    class="link-none flex items-center gap-2 text-lg font-black text-loopydemos-highlight-primary sm:text-xl"
  >
    <Icon name="ph:arrow-left-bold" />
    <span>
      {type === "demo" ? "All demos" : "All posts"}
    </span>
  </a>
  <h2>{title}</h2>
  <div class="mb-3">
    <DateTag {date} />
  </div>
  {type !== "freeform" && <DemoWidget presetSlug={slug} />}
  <slot />
</DefaultLayout>
