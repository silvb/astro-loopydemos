---
import type { Knob } from "@types"
import SimpleKnob from "./simple-knob.astro"
import { CbaKnob } from "./cba-knob"
import { BrutalistKnob } from "./brutalist-knob"
import { ChickenHeadKnob } from "./chicken-head-knob"
import SimpleDotKnob from "./simple-dot-knob.astro"
import { DaviesKnob } from "./davies-knob"
import { FairfieldKnob } from "./fairfield-knob"
import GojiraKnob from "./gojira-knob.astro"
import OffsetKnob from "./offset-knob.astro"
import JhsKnob from "./jhs-knob.astro"
import ObneKnob from "./obne-knob.astro"
import { ArrowKnob } from "./arrow-knob"
import { BakelitKnob } from "./bakelit-knob"
import { WalrusAudioKnob } from "./walrus-audio-knob"
import { FlbKnob } from "./flb-knob"
import { Joystick } from "./joystick"
import KnurledKnob from "./knurled-knob.astro"
import LichtlaermAudioKnob from "./lichtlaerm-audio-knob.astro"
import RoundChickenHeadKnob from "./round-chicken-head-knob.astro"
import { KnobStateContainer } from "./knob-state-container"
import { SweepIndicator } from "@components/demo-widget/sweep-indicator"

interface Props extends Knob {
  pedalSlug: string
}

const {
  size,
  type,
  colors,
  id,
  isRotary,
  rotaryAngles,
  pedalSlug,
  highlightColor,
} = Astro.props

console.log({ highlightColor })
---

<KnobStateContainer
  {id}
  {isRotary}
  {rotaryAngles}
  {size}
  {pedalSlug}
  client:load
>
  {
    {
      arrow: <ArrowKnob client:load {size} />,
      bakelit: <BakelitKnob client:load {size} {colors} />,
      brutalist: <BrutalistKnob client:load {size} {colors} />,
      cba: <CbaKnob client:load {size} {colors} />,
      chicken: <ChickenHeadKnob client:load {size} {colors} />,
      davies: <DaviesKnob client:load {size} {colors} />,
      fairfield: <FairfieldKnob client:load {size} {colors} />,
      flb: <FlbKnob client:load {size} {colors} />,
      gojira: <GojiraKnob {size} {colors} />,
      jhs: <JhsKnob {size} {colors} />,
      joystick: <Joystick {id} client:load {size} />,
      knurled: <KnurledKnob {size} {colors} />,
      lichtlaerm: <LichtlaermAudioKnob {size} {colors} />,
      obne: <ObneKnob {size} {colors} />,
      offset: <OffsetKnob {size} />,
      roundchicken: <RoundChickenHeadKnob {size} {colors} />,
      simple: <SimpleKnob {size} {colors} />,
      simpledot: <SimpleDotKnob {size} {colors} />,
      walrus: <WalrusAudioKnob client:load {size} {colors} />,
    }[type]
  }
  <SweepIndicator
    client:load
    color={highlightColor}
    {size}
    slot="sweep-indicator"
  />
</KnobStateContainer>
