---
interface Props {
  pedalHeight: number
  pedalWidth: number
  presetSlug: string
  hasMultiplePresets: boolean
  hasBackingTrack?: boolean
  isComparison?: boolean
}

const {
  pedalHeight,
  pedalWidth,
  presetSlug,
  hasBackingTrack,
  isComparison,
  hasMultiplePresets,
} = Astro.props
---

<div id={`loading-skeleton-${presetSlug}`}>
  <div class="flex flex-col gap-4">
    <div>
      <div class="h-16 w-full rounded-xl bg-loopydemos-secondary-themed"></div>
      {
        hasBackingTrack && (
          <div class="mt-3 flex justify-end">
            <div class="flex items-center gap-4">
              <div class="rounded-ful h-3 w-24 bg-loopydemos-secondary-themed" />
              <div class="h-6 w-12 rounded-full bg-loopydemos-secondary-themed" />
            </div>
          </div>
        )
      }
    </div>
    {
      isComparison && (
        <ul class="flex list-none items-center gap-2">
          {Array.from({ length: 6 }, () => (
            <li class="h-16 grow rounded-md bg-loopydemos-secondary-themed md:h-28 md:w-28" />
          ))}
        </ul>
      )
    }
    {
      hasMultiplePresets && (
        <ul class="flex h-10 list-none gap-1">
          {Array.from({ length: 5 }, () => (
            <li class="h-full grow rounded-md bg-loopydemos-secondary-themed px-2" />
          ))}
        </ul>
      )
    }
  </div>
  <div 
    class="mt-8 w-full flex justify-center"
    style={{
      "container-type": "inline-size",
      }}>
    <div 
      class="rounded-lg bg-loopydemos-secondary-themed" 
      style={{
        width: `min(${pedalWidth}px, 100cqw)`,
        "aspect-ratio": `${pedalWidth} / ${pedalHeight}`,
        }}></div>
  </div>
</div>
